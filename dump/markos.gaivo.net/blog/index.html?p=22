<!DOCTYPE html>
<html lang="en">
<head>
	<title>A notch above a monkey &raquo; Hide email address from spammers with Javascript</title>
	<meta charset="utf-8" />
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0" /> 

	<link rel="shortcut icon" href="/img/markos.ico" />
	
	<meta name="generator" content="WordPress 3.0.5" /> <!-- leave this for stats please -->

	<link href="http://fast.fonts.com/cssapi/aee9b60b-8e94-47f8-b586-3ecbfab51d1c.css" rel="stylesheet" type="text/css" />
	<link rel="stylesheet" type="text/css" href="css/home.css" media="screen" title="Light theme" />
	<link rel="alternate stylesheet" type="text/css" href="css/home_dark.css" media="screen" title="Dark theme" />
	<link rel="stylesheet" href="css/ipad.css" media="only screen and (min-device-width : 768px) and (max-device-width : 1024px)">
	<link rel="stylesheet" type="text/css" href="css/smallscreen.css" media="only screen and (max-width: 700px)" />

	<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://markos.gaivo.net/blog/?feed=rss2" />
	<link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="http://markos.gaivo.net/blog/?feed=atom" />
	<link rel='canonical' href='http://markos.gaivo.net/blog/?p=664' />

	<link rel="pingback" href="http://markos.gaivo.net/blog/xmlrpc.php" />

	<link rel="alternate" type="application/rss+xml" title="A notch above a monkey &raquo; Hide email address from spammers with Javascript Comments Feed" href="http://markos.gaivo.net/blog/?feed=rss2&amp;p=22" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://markos.gaivo.net/blog/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://markos.gaivo.net/blog/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='A notch above a monkey' href='http://markos.gaivo.net/blog' />
<link rel='start' title='First post' href='http://markos.gaivo.net/blog/?p=2' />
<link rel='prev' title='Why I passionately dislike Twisted and Zope' href='http://markos.gaivo.net/blog/?p=21' />
<link rel='next' title='Latency, bandwidth and speed of applications &#8211; part I' href='http://markos.gaivo.net/blog/?p=23' />
<meta name="generator" content="WordPress 3.0.5" />
<link rel='canonical' href='http://markos.gaivo.net/blog/?p=22' />

	<!--[if lt IE 9]>
	<script src="/js/html5.js"></script>
	<![endif]-->
</head>
<body>
					<header>
		<h1><a href="/blog/">A notch above a monkey</a> &raquo; Hide email address from spammers with Javascript</h1>
	</header>

	<section class="envelope">
		<article class="post">
			<header>
				<h1>Hide email address from spammers with Javascript</h1>
			</header>

			<footer>
				<ul>
					<li class="by">Written by: <a href="/">Marko Samastur</a></li>
					<li class="published">Published on: <time datetime="2005-09-11T15:59:31+00:00" pubdate>September 11, 2005</time></li>
					<li class="categories">Categories: <a href="http://markos.gaivo.net/blog/?cat=1" title="View all posts in Javascript" rel="category">Javascript</a>, <a href="http://markos.gaivo.net/blog/?cat=4" title="View all posts in Web" rel="category">Web</a></li>
					<li class="post-comments">Comments: <a href="http://markos.gaivo.net/blog/?p=22#comments" title="Comment on Hide email address from spammers with Javascript">15</a></li>
				</ul>
			</footer>

			<div class="post-text">
				<p><strong>Update: I <a href="http://markos.gaivo.net/blog/?p=162">published</a> a new, more safe but less friendly version of this script.</strong></p>
<p>Wouldn&#8217;t it be nice, if you could post your email address on your web site without worrying spammers will pick it up?</p>
<p>Now you can, by applying a little bit of javascript to your web page. Just import <a href="/blog/code/mangle.js" title="Javascript file with mangle function">this javascript file</a> in head of your document and call <em>mangle()</em> inside your onload handler. What it does, is replace elements of form<br />
<code><br />
&lt;span class="change"&gt;billg at microsoft dot com&lt;/span&gt;</code><br />
with<br />
<code><br />
&lt;a href="mailto:billg@microsoft.com"&gt;billg@microsoft.com&lt;/a&gt;</code></p>
<p>There are few caveats to its use. You&#8217;re not allowed to use any HTML tag inside of span blocks, which have class set to change. The script also expects such blocks to have only one class definition. If change is only part of class attribute value, this script won&#8217;t work.</p>
<p>You are free to use script as you please and to make any changes necessary. But if you choose to replace &#8220;at&#8221; and &#8220;dot&#8221; as delimiters, pick replacements that make address easily recognizable for those who don&#8217;t use javascript.</p>
<p><em>Note: The reason why this script works is that spammers use programs which search for email like pattern in page. They don&#8217;t interpret pages using javascript interpreter, since it would make collecting addresses significantly slower and more expensive.</em></p>
<p><em>Update: Jay Samec let me know there&#8217;s a bug in my code, since it didn&#8217;t handle emails with multiple dots (e.g. those with subdomains). Script has been fixed now.</em></p>
<p><em>Update 2: Holger Rindermann pointed out another bug and provided a patch to fix it that is now a part of the script.</em></p>
			</div>

			<nav>
				<p>If you liked this, you might want to visit:</p>
				<ul>
					<li>my previous article: <a href="http://markos.gaivo.net/blog/?p=21" rel="prev">Why I passionately dislike Twisted and Zope</a></li>					<li>my next article: <a href="http://markos.gaivo.net/blog/?p=23" rel="next">Latency, bandwidth and speed of applications &#8211; part I</a></li>					<li><a href="/blog/">article list</a></li>
				</ul>
			</nav>

			<h2 id="comments">Comments (15)
			</h2>
			<ol class="comments">
		
				<li id="comment-24">
					<article>
						<p>In your &#8216;mangle&#8217; code you declare:<br />
var parent = nodes[i].parentNode;</p>
<p>&#8216;parent&#8217; is a defined javascript object, &amp; should not be used as a varibale name.</p>
<p>the script also seems unnecessarily complex. why not just concatinate a few strings and call it a day?</p>
<p>var eaddr = &#8220;mai&#8221;+&#8221;lto:jav&#8221;+&#8221;ascript@w&#8221;+&#8221;ork.com&#8221;;</p>
						<footer>
							<cite>Comment by slippery &#8212; <time datetime="2005-09-24T19:46:24+00:00">September 24, 2005 @ 7:46 pm</time> <a href="#comment-24">#</a> </cite>
						</footer>
					</article>
				</li>
		
				<li id="comment-25">
					<article>
						<p>Right, I missed that. It works, but it&#8217;s a slippery thing to do so I changed my javascript file.</p>
<p>I decided against gluing strings together because I wanted a general script that can be aplied to any page and works even if there is more than one email address. My homepage is a very simple example of that.</p>
<p>Thanks for comment.</p>
						<footer>
							<cite>Comment by <a href='http://markos.gaivo.net' rel='external nofollow' class='url'>markos</a> &#8212; <time datetime="2005-09-24T19:56:19+00:00">September 24, 2005 @ 7:56 pm</time> <a href="#comment-25">#</a> </cite>
						</footer>
					</article>
				</li>
		
				<li id="comment-38">
					<article>
						<p>Hi there,</p>
<p>I modified your script, so that it&#8217;ll work when the email-name itself also contains at&#8217;s and dot&#8217;s (in my example: Matthew.Dotcom). Anyway it seems to work. Here&#8217;s the code:</p>
<p>=0;i&#8211;) {<br />
    if (nodes[i].className==&#8221;change&#8221;) {<br />
      var at = / at /;<br />
      var dot = / dot /g;<br />
      var node = document.createElement(&#8220;a&#8221;);<br />
	  var address = nodes[i].firstChild.nodeValue;<br />
      address = address.replace(at, &#8220;@&#8221;);<br />
      address = address.replace(dot, &#8220;.&#8221;);</p>
<p>      node.setAttribute(&#8220;href&#8221;, &#8220;mailto:&#8221;+address);<br />
      node.appendChild(document.createTextNode(address));</p>
<p>      var parent = nodes[i].parentNode;<br />
      for(var j=0;j</p>
<p>Contact me: Matthew dot Dotcom at hamburg dot de</p>
<p>Free JavaScripts provided<br />
by <a href="http://javascriptsource.com">The JavaScript Source</a></p>
						<footer>
							<cite>Comment by Holger Rindermann &#8212; <time datetime="2005-09-28T20:21:20+00:00">September 28, 2005 @ 8:21 pm</time> <a href="#comment-38">#</a> </cite>
						</footer>
					</article>
				</li>
		
				<li id="comment-39">
					<article>
						<p>Thank you. Linked script is now corrected.</p>
						<footer>
							<cite>Comment by <a href='http://markos.gaivo.net' rel='external nofollow' class='url'>markos</a> &#8212; <time datetime="2005-09-28T21:25:15+00:00">September 28, 2005 @ 9:25 pm</time> <a href="#comment-39">#</a> </cite>
						</footer>
					</article>
				</li>
		
				<li id="comment-504">
					<article>
						<p><a href="http://www.comicstripgenerator.com"> </a><a href="http://www.comicstripgenerator.com">http://www.comicstripgenerator.com</a>  offers a unique way of hiding your email/text from spider bots (messages are hidden/encoded in pictures).</p>
						<footer>
							<cite>Comment by <a href='http://www.whak.com' rel='external nofollow' class='url'>WHAK'd</a> &#8212; <time datetime="2005-12-30T12:11:40+00:00">December 30, 2005 @ 12:11 pm</time> <a href="#comment-504">#</a> </cite>
						</footer>
					</article>
				</li>
		
				<li id="comment-509">
					<article>
						<p>Certainly an interesting idea. The only problem I have with it is that it&#8217;s difficult to read email address for visually impaired people.</p>
						<footer>
							<cite>Comment by <a href='http://markos.gaivo.net' rel='external nofollow' class='url'>markos</a> &#8212; <time datetime="2005-12-30T22:44:59+00:00">December 30, 2005 @ 10:44 pm</time> <a href="#comment-509">#</a> </cite>
						</footer>
					</article>
				</li>
		
				<li id="comment-13244">
					<article>
						<p>Why not do something with user interaction?</p>
<p>function mailto()<br />
{<br />
	document.getElementById(&#8216;mailto&#8217;).href = &#8216;mailto:jeroen@haan.net&#8217;;<br />
}</p>
<p><a href="#">jeroen ad haan dot net</a></p>
						<footer>
							<cite>Comment by <a href='http://www.haan.net' rel='external nofollow' class='url'>Jeroen Haan</a> &#8212; <time datetime="2006-11-13T00:59:59+00:00">November 13, 2006 @ 12:59 am</time> <a href="#comment-13244">#</a> </cite>
						</footer>
					</article>
				</li>
		
				<li id="comment-13245">
					<article>
						<p>&lt;a id=&#8221;mailto&#8221; onmouseover=&#8221;mailto()&#8221; href=&#8221;#&#8221;&gt;jeroen ad haan dot net&lt;/a&gt;</p>
						<footer>
							<cite>Comment by <a href='http://www.haan.net' rel='external nofollow' class='url'>Jeroen Haan</a> &#8212; <time datetime="2006-11-13T01:03:21+00:00">November 13, 2006 @ 1:03 am</time> <a href="#comment-13245">#</a> </cite>
						</footer>
					</article>
				</li>
		
				<li id="comment-13311">
					<article>
						<p>I did. There&#8217;s a link to an updated version of the script right at the start of the post.</p>
						<footer>
							<cite>Comment by <a href='http://markos.gaivo.net' rel='external nofollow' class='url'>markos</a> &#8212; <time datetime="2006-11-13T11:43:58+00:00">November 13, 2006 @ 11:43 am</time> <a href="#comment-13311">#</a> </cite>
						</footer>
					</article>
				</li>
		
				<li id="comment-22125">
					<article>
						<p>I am having a horrible problem with spamers, and desperately need to stop them for emailing over 500 email per day into my inboxes. </p>
<p>I don&#8217;t know JavaScript at all&#8230;did I mention I know nothing. I am a self taught coder due to the inability of a new business to be able to afford an expert.</p>
<p>1st. Is there a way for you to paste the code that goes into the head of the document on this page for copying. I can&#8217;t open the file extention.<br />
2nd. Is there a way to hightlight or bold the sections I would need to change in order to put my email addresses into the pages? (know what I&#8217;m talking about?)<br />
3rd. Is there a specific place within the page that I need to put certain code and if so what code?</p>
						<footer>
							<cite>Comment by <a href='http://www.4girlspublishing.com' rel='external nofollow' class='url'>Edith</a> &#8212; <time datetime="2006-12-30T20:34:43+00:00">December 30, 2006 @ 8:34 pm</time> <a href="#comment-22125">#</a> </cite>
						</footer>
					</article>
				</li>
		
				<li id="comment-63347">
					<article>
						<p>A problem is that it changes the textcolor to black.<br />
I want white text on black background, and what ever I do, style the entire table, the cell, or the &#8220;change&#8221; class, I only briefly see the unmunged adress in white, then the munged adress is in black;unreadable until I mark (as in &#8216;select for cut/paste) the area with the cursor.</p>
<p>#10: your adress is already harvested, and you will continue to receive spam for a very long time. You should change emailadress after munging works, but then your customers probably won&#8217;t find you&#8230;</p>
<p>Leif</p>
						<footer>
							<cite>Comment by leif &#8212; <time datetime="2007-06-21T12:30:14+00:00">June 21, 2007 @ 12:30 pm</time> <a href="#comment-63347">#</a> </cite>
						</footer>
					</article>
				</li>
		
				<li id="comment-63523">
					<article>
						<p>It shouldn&#8217;t change the color of anything. Can you please send me an example, so I can see what the problem is?</p>
						<footer>
							<cite>Comment by <a href='http://markos.gaivo.net' rel='external nofollow' class='url'>markos</a> &#8212; <time datetime="2007-06-21T22:22:57+00:00">June 21, 2007 @ 10:22 pm</time> <a href="#comment-63523">#</a> </cite>
						</footer>
					</article>
				</li>
		
				<li id="comment-154254">
					<article>
						<p>Hi,<br />
I am using<br />
<a href="http://www.mobilefish.com/services/hideemail/hideemail.php">http://www.mobilefish.com/services/hideemail/hideemail.php</a> to protect my email address against spam bots.<br />
This site also contains other useful tools.</p>
						<footer>
							<cite>Comment by Jane &#8212; <time datetime="2008-08-16T16:16:12+00:00">August 16, 2008 @ 4:16 pm</time> <a href="#comment-154254">#</a> </cite>
						</footer>
					</article>
				</li>
		
				<li id="comment-181338">
					<article>
						<p>Hello,<br />
there is a webpage, <a href="http://www.emailhide.org">http://www.emailhide.org</a>, that encrypts your email address in a secure manner. All you nedd to do is type in your email address and is returned html code with a link with your encrypted email. I&#8217;ve tried and now i use it everytime. There&#8217;s also a automatic gen for webmasters. Check it out.</p>
						<footer>
							<cite>Comment by miguel &#8212; <time datetime="2009-02-01T13:55:00+00:00">February 1, 2009 @ 1:55 pm</time> <a href="#comment-181338">#</a> </cite>
						</footer>
					</article>
				</li>
		
				<li id="comment-201759">
					<article>
						<p>Hi! I was surfing and found your blog post&#8230; nice! I love your blog.  <img src='http://markos.gaivo.net/blog/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' />  Cheers! Sandra. R.</p>
						<footer>
							<cite>Comment by <a href='http://google.com/zsxdg' rel='external nofollow' class='url'>sandrar</a> &#8212; <time datetime="2009-09-10T21:23:45+00:00">September 10, 2009 @ 9:23 pm</time> <a href="#comment-201759">#</a> </cite>
						</footer>
					</article>
				</li>
		
			</ol>


		<p>Sorry, the comment form is closed at this time.</p>

		</article>
	</section>
			<!-- All pages -->
	

	<footer>
		<ul>
			<li>&copy; 2005-2015 Marko Samastur</li>
			
			<li><a href="http://markos.gaivo.net/blog/?feed=rss2">Entries feed</a></li>
			<li><a href="http://markos.gaivo.net/blog/?feed=comments-rss2">Comments feed</a></li>
		</ul>
		<a href="/"><img src="/img/markos_light_small_bg.png" alt="logo" class="mini-logo" /></a>
	</footer>
	<!-- Google analytics -->
	<script type="text/javascript">
	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-152438-1']);
	  _gaq.push(['_trackPageview']);
	</script>
	<script src="/js/cookie.js"></script>
</body>
</html>
