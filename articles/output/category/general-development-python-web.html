<!DOCTYPE html>
<html lang="en">
<head>
        <title>A notch above a monkey</title>
        <meta charset="utf-8" />
				<meta name="viewport" content="width=device-width, initial-scale=1">

				<link rel="shortcut icon" href="http://markos.gaivo.net/articles/theme/favicon/favicon.ico" />
				<link rel="apple-touch-icon-precomposed" sizes="57x57" href="http://markos.gaivo.net/articles/theme/favicon/apple-touch-icon-57x57.png" />
				<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://markos.gaivo.net/articles/theme/favicon/apple-touch-icon-114x114.png" />
				<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://markos.gaivo.net/articles/theme/favicon/apple-touch-icon-72x72.png" />
				<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://markos.gaivo.net/articles/theme/favicon/apple-touch-icon-144x144.png" />
				<link rel="apple-touch-icon-precomposed" sizes="60x60" href="http://markos.gaivo.net/articles/theme/favicon/apple-touch-icon-60x60.png" />
				<link rel="apple-touch-icon-precomposed" sizes="120x120" href="http://markos.gaivo.net/articles/theme/favicon/apple-touch-icon-120x120.png" />
				<link rel="apple-touch-icon-precomposed" sizes="76x76" href="http://markos.gaivo.net/articles/theme/favicon/apple-touch-icon-76x76.png" />
				<link rel="apple-touch-icon-precomposed" sizes="152x152" href="http://markos.gaivo.net/articles/theme/favicon/apple-touch-icon-152x152.png" />
				<link rel="icon" type="image/png" href="http://markos.gaivo.net/articles/theme/favicon/favicon-196x196.png" sizes="196x196" />
				<link rel="icon" type="image/png" href="http://markos.gaivo.net/articles/theme/favicon/favicon-96x96.png" sizes="96x96" />
				<link rel="icon" type="image/png" href="http://markos.gaivo.net/articles/theme/favicon/favicon-32x32.png" sizes="32x32" />
				<link rel="icon" type="image/png" href="http://markos.gaivo.net/articles/theme/favicon/favicon-16x16.png" sizes="16x16" />
				<link rel="icon" type="image/png" href="http://markos.gaivo.net/articles/theme/favicon/favicon-128.png" sizes="128x128" />
				<meta name="application-name" content="Marko Samastur"/>
				<meta name="msapplication-TileColor" content="#FBF8E9" />
				<meta name="msapplication-TileImage" content="http://markos.gaivo.net/articles/theme/favicon/mstile-144x144.png" />
				<meta name="msapplication-square70x70logo" content="http://markos.gaivo.net/articles/theme/favicon/mstile-70x70.png" />
				<meta name="msapplication-square150x150logo" content="http://markos.gaivo.net/articles/theme/favicon/mstile-150x150.png" />
				<meta name="msapplication-wide310x150logo" content="http://markos.gaivo.net/articles/theme/favicon/mstile-310x150.png" />
				<meta name="msapplication-square310x310logo" content="http://markos.gaivo.net/articles/theme/favicon/mstile-310x310.png" />

        <link rel="stylesheet" type="text/css" href="theme/css/home.min.css" media="screen" />
				<style type="text/css" title="Light theme">
body {background-color: #fbf8e9;color: #30303c;}
body > footer a, body > footer a:visited {color: #ffb665;}
a, a:visited, a:hover {color: #980000;}
body > footer {background-color:#30303c;color:#fbf8e9;}
aside .photo, .error img, .alignleft img, img.alignleft, .alignright img, img.alignright, .aligncenter img, img.aligncenter,
.zemanta-img img, .imageR img, .imageL img {background-color:#fbf8e9;border:1px solid #30303c;}
.post header h1, .posts header h1, .posts > header h1 {border-bottom:1px solid #30303c;}
ol.code {border: 1px solid #30303c;}
body > footer .mini-logo {display: inline-block;width:97px;height:32px;border:0;background:url(theme/img/markos_dark_small_bg.png);overflow:hidden;text-indent:-400px;}
				</style>

				<style type="text/css" title="Dark theme">
body {background-color: #30303c;color: #fbf8e9;}
body > footer a, body > footer a:visited {color: #980000;}
a, a:visited, a:hover {color: #ffb665;}
body > footer {background-color:#fbf8e9;color:#30303c;}
aside .photo, .error img, .alignleft img, img.alignleft, .alignright img, img.alignright, .aligncenter img, img.aligncenter,
.zemanta-img img, .imageR img, .imageL img {background-color:#fbf8e9;}
.post header h1, .posts header h1, .posts > header h1 {border-bottom:1px solid #fbf8e9;}
ol.code {border: 1px solid #fbf8e9;}
body > footer .mini-logo {display: inline-block;width:97px;height:32px;border:0;background:url(theme/img/markos_light_small_bg.png);overflow:hidden;text-indent:-400px;}
				</style>

        <link href="/articles/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="A notch above a monkey Full Atom Feed" />
        <link href="/articles/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="A notch above a monkey Full RSS Feed" />
        <link href="/articles/feeds/general-development-python-web.atom.xml" type="application/atom+xml" rel="alternate" title="A notch above a monkey Categories Atom Feed" />
</head>

<body>

<h2>Articles in the General development, Python, Web category</h2>

<section class="envelope posts">
    <header>
        <h1><a href="../">A notch above a monkey <strong></strong></a></h1>
    </header><!-- /#banner -->

    <nav class="colophon">
        <h1>By Marko Samastur</h1>
        <ul>
            <li><a href="/">About me</a></li>
            <li><a href="/articles/feeds/atom.xml">Subscribe</a></li>
        </ul>
    </nav>

        <article class="hentry">
            <h1 class="entry-title storytitle"><a href="../looking-for-adobe-rgb-to-srgb-conversion-tool.html" rel="bookmark" title="Permalink to Looking for Adobe RGB to sRGB conversion tool">Looking for Adobe RGB to sRGB conversion tool</a></h1>

            <div class="entry-content post-text">
                <div>
 <p>
  Does anyone know of a python module or unix command line tool for transforming Adobe RGB color space profile to sRGB?
 </p>
 <p>
  Either my assumption, that you can get anything you need on the internet, is wrong or I’ve been looking at wrong places.
 </p>
</div>
            </div><!-- /.entry-content -->

            <footer class="post-metadata">
                <ul>
                    <li>Published on <time datetime="2007-07-24T13:52:00+02:00">Tue 24 July 2007</time> </li>
                    <li><a href="../looking-for-adobe-rgb-to-srgb-conversion-tool.html">Add your comment</a></li>
                </ul>
            </footer>
        </article>
        <article class="hentry">
            <h1 class="entry-title storytitle"><a href="../speeding-up-levenshtein.html" rel="bookmark" title="Permalink to Speeding up Levenshtein">Speeding up Levenshtein</a></h1>

            <div class="entry-content post-text">
                <div>
 <p>
  <a href="handling-404.html">
   Simon
  </a>
  proposes using a dictionary to match mistyped URLs with real ones. I’d probably like the idea better if I actually understood it. Still using
  <a href="http://en.wikipedia.org/wiki/Levenshtein_distance" title="description of the algorithm">
   Levenshtein
  </a>
  can be a bit easier than using a spell checker responsively.
 </p>
 <p>
  Easier, but slow. I used existing
  <a href="http://hetland.org/python/distance.py" title="python implementation">
   implementation
  </a>
  by Magnus Lie Hetland and made a test with 245 blog titles using a simple
  <a href="http://markos.gaivo.net/examples/distance/test_distance" title="Link to test script">
   script
  </a>
  . 100 iterations on aging powerbook produced:
 </p>
 <p style="text-indent:20pt;">
  1.766s, 29.152s, 9.399s (min, max, avg)
 </p>
 <p>
  Average time to calculate distance between randomly chosen title and rest of them is 9.4 seconds, which is far too much to be useful. And there’s not even 250 of them.
 </p>
 <p>
  There are two obvious ways to speed things up. Since minimum distance is at least as much as a difference in length of both strings, there’s no point in calculating it when difference already exceeds a limit we chose.
 </p>
 <p>
  The other trick took into an account that Levenshtein’s algorithm of two strings of comparable length has complexity of O(n2) and that my blog titles are form quite sparse space. If strings are longer than a certain limit (I arbitrarily chose 10 letters), then first calculate edit distance on a small sparse substring and then calculate the real distance only if first one was close enough.
 </p>
 <p>
  When I made 1000 iterations of randomly chosen title using only first test, I got following results:
 </p>
 <p style="text-indent:20pt;">
  0.003s, 0.284s, 0.167s (min, max, avg)
 </p>
 <p>
  However, if I used both checks, the same 1000 iteration test got me:
 </p>
 <p style="text-indent:20pt;">
  0.003s, 0.162s, 0.027s (min, max, avg)
 </p>
 <p>
  So,
  <a href="http://markos.gaivo.net/examples/distance/distance.py" title="Extended distance functions">
   two simple checks
  </a>
  can speed up search up to 350 times. Not bad, but I’m not happy. This is certainly fast enough for a personal website or sites where site structure effectively divides searching to relatively small sets of possible hits, but there are plenty of sites where it would be too slow.
 </p>
 <p>
  I tried to simplify searching using distance to map strings to coordinate system, which was at least hopelessly naive if not downright dumb. A much better approach would be to read more, which is what I’m doing now.
 </p>
 <p>
  By the way, I’ve also tried to speed it up using Pyrex, but got pretty much same results, which means I either don’t know how to use Pyrex or Python optimizes well. Or both.
 </p>
</div>
            </div><!-- /.entry-content -->

            <footer class="post-metadata">
                <ul>
                    <li>Published on <time datetime="2006-11-10T02:17:00+01:00">Fri 10 November 2006</time> </li>
                    <li><a href="../speeding-up-levenshtein.html">Add your comment</a></li>
                </ul>
            </footer>
        </article>

<ul class="paginator">
		<li class="current">
    1 / 1
		</li>
</ul>
</section><!-- /#content -->

    <footer>
        <ul>
            <li>&copy; 2005-2019 Marko Samastur</li>
						<li><a href="articles/privacy-policy.html">Privacy policy</a></li>
            <li><a href="/articles/feeds/rss.xml" rel="alternate" title="A notch above a monkey Full RSS Feed">Entries feed</a></li>
        </ul>
        <a href="/" class="mini-logo">Back to homepage</a>
    </footer>
</body>
</html>