<!DOCTYPE html>
<html lang="en">
<head>
          <title>A notch above a monkey</title>
        <meta charset="utf-8" />
        <link rel="shortcut icon" href="theme/img/markos.ico" />

        <link href="http://fast.fonts.com/cssapi/aee9b60b-8e94-47f8-b586-3ecbfab51d1c.css" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" type="text/css" href="theme/css/home.css" media="screen" title="Light theme" />
        <link rel="alternate stylesheet" type="text/css" href="theme/css/home_dark.css" media="screen" title="Dark theme" />
        <link rel="stylesheet" href="theme/css/ipad.css" media="only screen and (min-device-width : 768px) and (max-device-width : 1024px)">
        <link rel="stylesheet" type="text/css" href="theme/css/smallscreen.css" media="only screen and (max-width: 700px)" />

        <link href="/articles/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="A notch above a monkey Full Atom Feed" />
        <link href="/articles/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="A notch above a monkey Full RSS Feed" />
        <link href="/articles/feeds/javascript-ui-web.atom.xml" type="application/atom+xml" rel="alternate" title="A notch above a monkey Categories Atom Feed" />




</head>

<body>
<header id="banner" class="body">
    <h1><a href="./">A notch above a monkey</a> &raquo; Auto-grow TEXTAREA</h1>
</header><!-- /#banner -->

<section class="envelope">
    <article class="post">
        <header class="entry-title">
            <h1 class="entry-title">Auto-grow TEXTAREA</h1>
         
        </header>

        <footer class="post-info">
            <ul>
                <li class="by">Written by: <a href="/">Marko Samastur</a></li>
                <li class="published">Published on: <time datetime="2006-07-31T13:58:00+02:00" pubdate>Mon 31 July 2006</time></li>
                <li class="categories">Category: Javascript, UI, Web
                </li>
            </ul>

        </footer><!-- /.post-info -->

        <div class="post-text">
            <p><html>
 <body>
  <div>
   <p>
    <em>
     <strong>
      Update 6.8.2009:
     </strong>
     This post is old and somewhat obsolete, but has been kept alive by commentators. Hence I posted an updated version of the script in comments.
    </em>
   </p>
   <p>
    <a href="http://friedcellcollective.net/outbreak/">
     Fry
    </a>
    recently mentioned a TEXTAREA improvement he found. As you type your text in the box, it grows in length as needed to avoid having to deal with scroll bars.
   </p>
   <p>
    I liked the idea and went to create my own version. Making it work in Internet Explorer and Firefox was literally a matter of seconds. All you really need to do is compare elements
    <em>
     clientHeight
    </em>
    with its
    <em>
     scrollHeight
    </em>
    on key presses and increment
    <em>
     rows
    </em>
    attribute when former is smaller than later.
   </p>
   <p>
    But supporting Opera and Safari has proven to be an insurmountable task for now. They simply don’t seem to update any property that could reliably be used for measuring the height of the text (but would love to be proven wrong).
   </p>
   <p>
    You can try a
    <a href="http://markos.gaivo.net/examples/growtextarea/index.html">
     demo
    </a>
    , which also doubles as a test environment for reading interesting attributes on the fly (updates are done with mouse over input box).
   </p>
   <p>
    Random bits of observation:
   </p>
   <ul>
    <li>
     <em>
      scrollHeight
     </em>
     is always bigger than
     <em>
      clientHeight
     </em>
     in Opera. Hence the need to ignore it using its unique fingerprint.
    </li>
    <li>
     I didn’t try to work out the length of the text by trying to count the number of lines (using
     <em>
      \n
     </em>
     ) and the length of each of them. Proportional fonts prevent any such reasonable guess.
    </li>
    <li>
     I didn’t try to limit the growth of the box to the boundaries of the screen. I find page scroll bars the least annoying when scroll bars can’t be avoided. It’s a personal choice though.
    </li>
   </ul>
  </div>
 </body>
</html></p>
        </div><!-- /.entry-content -->

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES * * */
            var disqus_shortname = 'markosgaivo';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    </article>
</section>

    <footer>
        <ul>
            <li>&copy; 2005-2015 Marko Samastur</li>
            <li><a href="/articles/feeds/rss.xml" rel="alternate" title="A notch above a monkey Full RSS Feed">Entries feed</a></li>
        </ul>
        <a href="/"><img src="/img/markos_light_small_bg.png" alt="logo" class="mini-logo" /></a>
    </footer>
</body>
</html>