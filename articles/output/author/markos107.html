<!DOCTYPE html>
<html lang="en">
<head>
        <title>A notch above a monkey - Articles by markos</title>
        <meta charset="utf-8" />
        <link rel="shortcut icon" href="theme/img/markos.ico" />

        <link href="http://fast.fonts.com/cssapi/aee9b60b-8e94-47f8-b586-3ecbfab51d1c.css" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" type="text/css" href="theme/css/home.min.css" media="screen" title="Light theme" />
        <link rel="alternate stylesheet" type="text/css" href="theme/css/home_dark.min.css" media="screen" title="Dark theme" />

        <link href="/articles/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="A notch above a monkey Full Atom Feed" />
        <link href="/articles/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="A notch above a monkey Full RSS Feed" />
</head>

<body>

<h2>Articles by markos</h2>

<section class="envelope posts">
    <header>
        <h1><a href="../">A notch above a monkey <strong></strong></a></h1>
    </header><!-- /#banner -->

    <nav class="colophon">
        <h1>By Marko Samastur</h1>
        <ul>
            <li><a href="/">About me</a></li>
            <li><a href="/articles/feeds/atom.xml">Subscribe</a></li>
        </ul>
    </nav>

        <article class="hentry">
            <h1 class="entry-title storytitle"><a href="../beautiful-soup-is-beautiful-again.html" rel="bookmark" title="Permalink to Beautiful Soup is beautiful again">Beautiful Soup is beautiful again</a></h1>

            <div class="entry-content post-text">
                <div>
 <p>
  This is probably the last part in series of post dealing with Beautiful Soup. At least for a while. Good news is, I found the bug that caused observed weird behavior and it was partly self-inflicted.
 </p>
 <p>
  My problem appeared, because I was using variables that resembled html tags (e.g. imgs, ul…) and didn’t put space after &lt; in statements as good practice dictates. So I  had statements like:
  <br/>
  <code>
   <br/>
   if (i&lt;imgs.length)
   <br/>
  </code>
 </p>
 <p>
  Beautiful Soup relies on
  <em>
   sgmllib.py
  </em>
  for processing of documents and it’s sgmllib that causes havoc by processing CDATA (found in script and style blocks), when it shouldn’t. But the problem is not really with sgmllib, which has a literal switch to turn processing off. It’s just that Beautiful Soup doesn’t use it.
 </p>
 <p>
  So fix is really adding one line
  <br/>
  <code>
   <br/>
   self.literal = 1
   <br/>
  </code>
  <br/>
  after
  <em>
   if
  </em>
  statement on line 835. Or
  <a href="http://markos.gaivo.net/blog/code/BeautifulSoup.py" title="Link to fixed version">
   downloading fixed version
  </a>
  .
 </p>
 <p>
  Reading source I also realized another potential pitfall. If you use javascript to inject javascript with document.write method, you’ll probably confuse sgmllib (and hence Beautiful Soup). When processing CDATA, it doesn’t try to understand it, it just copies data until it finds an endtag (&lt;/script&gt; in javascript’s case). But if you’re doing that, you have yourself to blame.
 </p>
 <p>
  <em>
   BeautifulSoup 2.1.1 is
   <a href="http://www.crummy.com/software/BeautifulSoup/index.html">
    out
   </a>
   , which fixes my bug and several others. So you better fetch that version.
  </em>
 </p>
</div>
            </div><!-- /.entry-content -->

            <footer class="post-metadata">
                <ul>
                    <li>Published on <time datetime="2005-09-06T10:16:00+02:00">Tue 06 September 2005</time> </li>
                    <li><a href="../beautiful-soup-is-beautiful-again.html">Add your comment</a></li>
                </ul>
            </footer>
        </article>
        <article class="hentry">
            <h1 class="entry-title storytitle"><a href="../beautiful-soup-part-2.html" rel="bookmark" title="Permalink to Beautiful Soup - part 2">Beautiful Soup - part 2</a></h1>

            <div class="entry-content post-text">
                <div>
 <p>
  It seems I praised Beautiful Soup too quickly. I was playing with it yesterday and discovered it mangles Javascript included in file. I can’t say it does this every time, but it’s fairly obvious if you have few kilobytes of code stuck in file. There you have it, another argument why Javascript and CSS should be stored in external files.
 </p>
 <p>
  It’s not an option for me though, so I’ll have to work around it.
 </p>
 <p>
  It’s still a great module, as long as you can work within its limitations, but it’s not panacea. At least not yet.
 </p>
 <p>
  If I find time, I’ll try to fix the problem, since I really dislike idea of processing files using usual methods (regular expressions &amp; co.).
 </p>
</div>
            </div><!-- /.entry-content -->

            <footer class="post-metadata">
                <ul>
                    <li>Published on <time datetime="2005-09-05T14:54:00+02:00">Mon 05 September 2005</time> </li>
                    <li><a href="../beautiful-soup-part-2.html">Add your comment</a></li>
                </ul>
            </footer>
        </article>
        <article class="hentry">
            <h1 class="entry-title storytitle"><a href="../uhm-i-dont-like-the-colors.html" rel="bookmark" title="Permalink to Uhm, I don't like the colors">Uhm, I don't like the colors</a></h1>

            <div class="entry-content post-text">
                <div>
 <p>
  We’ve been working with a talented group of designers, whose work I admired for a long time, on a design for our new service. Initial concept was exactly what we were looking for and the only changes that needed to be made, were consequences of our bad choices earlier on. In fact, everything was great except one thing.
 </p>
 <p>
  We didn’t like proposed color schemes.
 </p>
 <p>
  Every time I work with a designer, I’m afraid I’ll have to say that. It’s probably the most common complaint they hear and I really hate to join this particular crowd. Sure, they’ve always been graceful (at least the good designers), but I’m certain they wouldn’t mind spiking a voodoo doll of me, given a chance.
 </p>
 <p>
  That got me thinking, is there a specific, but very common complaint for every trade out there? I couldn’t recall one for programmers, but that doesn’t mean there isn’t one. I certainly would love to hear your experiences.
 </p>
</div>
            </div><!-- /.entry-content -->

            <footer class="post-metadata">
                <ul>
                    <li>Published on <time datetime="2005-09-03T14:10:00+02:00">Sat 03 September 2005</time> </li>
                    <li><a href="../uhm-i-dont-like-the-colors.html">Add your comment</a></li>
                </ul>
            </footer>
        </article>

<p class="paginator">
        <a href="../author/markos106.html">&laquo;</a>
    Page 107 / 111
        <a href="../author/markos108.html">&raquo;</a>
</p>
</section><!-- /#content -->

    <footer>
        <ul>
            <li>&copy; 2005-2015 Marko Samastur</li>
            <li><a href="/articles/feeds/rss.xml" rel="alternate" title="A notch above a monkey Full RSS Feed">Entries feed</a></li>
        </ul>
        <a href="/"><img src="/img/markos_light_small_bg.png" alt="logo" class="mini-logo" /></a>
    </footer>
</body>
</html>