<!DOCTYPE html>
<html lang="en">
<head>
          <title>A notch above a monkey</title>
        <meta charset="utf-8" />
				<meta name="viewport" content="width=device-width, initial-scale=1">

				<link rel="shortcut icon" href="http://markos.gaivo.net/articles/theme/favicon/favicon.ico" />
				<link rel="apple-touch-icon-precomposed" sizes="57x57" href="http://markos.gaivo.net/articles/theme/favicon/apple-touch-icon-57x57.png" />
				<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://markos.gaivo.net/articles/theme/favicon/apple-touch-icon-114x114.png" />
				<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://markos.gaivo.net/articles/theme/favicon/apple-touch-icon-72x72.png" />
				<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://markos.gaivo.net/articles/theme/favicon/apple-touch-icon-144x144.png" />
				<link rel="apple-touch-icon-precomposed" sizes="60x60" href="http://markos.gaivo.net/articles/theme/favicon/apple-touch-icon-60x60.png" />
				<link rel="apple-touch-icon-precomposed" sizes="120x120" href="http://markos.gaivo.net/articles/theme/favicon/apple-touch-icon-120x120.png" />
				<link rel="apple-touch-icon-precomposed" sizes="76x76" href="http://markos.gaivo.net/articles/theme/favicon/apple-touch-icon-76x76.png" />
				<link rel="apple-touch-icon-precomposed" sizes="152x152" href="http://markos.gaivo.net/articles/theme/favicon/apple-touch-icon-152x152.png" />
				<link rel="icon" type="image/png" href="http://markos.gaivo.net/articles/theme/favicon/favicon-196x196.png" sizes="196x196" />
				<link rel="icon" type="image/png" href="http://markos.gaivo.net/articles/theme/favicon/favicon-96x96.png" sizes="96x96" />
				<link rel="icon" type="image/png" href="http://markos.gaivo.net/articles/theme/favicon/favicon-32x32.png" sizes="32x32" />
				<link rel="icon" type="image/png" href="http://markos.gaivo.net/articles/theme/favicon/favicon-16x16.png" sizes="16x16" />
				<link rel="icon" type="image/png" href="http://markos.gaivo.net/articles/theme/favicon/favicon-128.png" sizes="128x128" />
				<meta name="application-name" content="Marko Samastur"/>
				<meta name="msapplication-TileColor" content="#FBF8E9" />
				<meta name="msapplication-TileImage" content="http://markos.gaivo.net/articles/theme/favicon/mstile-144x144.png" />
				<meta name="msapplication-square70x70logo" content="http://markos.gaivo.net/articles/theme/favicon/mstile-70x70.png" />
				<meta name="msapplication-square150x150logo" content="http://markos.gaivo.net/articles/theme/favicon/mstile-150x150.png" />
				<meta name="msapplication-wide310x150logo" content="http://markos.gaivo.net/articles/theme/favicon/mstile-310x150.png" />
				<meta name="msapplication-square310x310logo" content="http://markos.gaivo.net/articles/theme/favicon/mstile-310x310.png" />

        <link rel="stylesheet" type="text/css" href="theme/css/home.min.css" media="screen" />
				<style type="text/css" title="Light theme">
body {background-color: #fbf8e9;color: #30303c;}
body > footer a, body > footer a:visited {color: #ffb665;}
a, a:visited, a:hover {color: #980000;}
body > footer {background-color:#30303c;color:#fbf8e9;}
aside .photo, .error img, .alignleft img, img.alignleft, .alignright img, img.alignright, .aligncenter img, img.aligncenter,
.zemanta-img img, .imageR img, .imageL img {background-color:#fbf8e9;border:1px solid #30303c;}
.post header h1, .posts header h1, .posts > header h1 {border-bottom:1px solid #30303c;}
ol.code {border: 1px solid #30303c;}
body > footer .mini-logo {display: inline-block;width:97px;height:32px;border:0;background:url(theme/img/markos_dark_small_bg.png);overflow:hidden;text-indent:-400px;}
				</style>

				<style type="text/css" title="Dark theme">
body {background-color: #30303c;color: #fbf8e9;}
body > footer a, body > footer a:visited {color: #980000;}
a, a:visited, a:hover {color: #ffb665;}
body > footer {background-color:#fbf8e9;color:#30303c;}
aside .photo, .error img, .alignleft img, img.alignleft, .alignright img, img.alignright, .aligncenter img, img.aligncenter,
.zemanta-img img, .imageR img, .imageL img {background-color:#fbf8e9;}
.post header h1, .posts header h1, .posts > header h1 {border-bottom:1px solid #fbf8e9;}
ol.code {border: 1px solid #fbf8e9;}
body > footer .mini-logo {display: inline-block;width:97px;height:32px;border:0;background:url(theme/img/markos_light_small_bg.png);overflow:hidden;text-indent:-400px;}
				</style>

        <link href="/articles/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="A notch above a monkey Full Atom Feed" />
        <link href="/articles/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="A notch above a monkey Full RSS Feed" />
        <link href="/articles/feeds/javascript-web.atom.xml" type="application/atom+xml" rel="alternate" title="A notch above a monkey Categories Atom Feed" />




</head>

<body>
<header id="banner" class="body">
    <h1><a href="http://markos.gaivo.net/articles/">A notch above a monkey</a> &raquo; Dynamically controlling behavior and size of a page</h1>
</header><!-- /#banner -->

<section class="envelope">
    <article class="post">
        <header class="entry-title">
            <h1 class="entry-title">Dynamically controlling behavior and size of a page</h1>
         
        </header>

        <footer class="post-info">
            <ul>
                <li class="by">Written by: <a href="/">Marko Samastur</a></li>
                <li class="published">Published on: <time datetime="2007-12-12T20:37:00+01:00" pubdate>Wed 12 December 2007</time></li>
                <li class="categories">Category: Javascript, Web
                </li>
            </ul>

        </footer><!-- /.post-info -->

        <div class="post-text">
            <div>
 <p>
  It’s not a secret that Javascript is interpreted and not statically compiled. Personally I find this an advantage that is not used often enough. If you look around the Web you can find plenty of cases to prove this, but I’d like to add another example.
 </p>
 <p>
  A few months ago I was developing a library which had a goal of providing an improved Javascript experience for standardized components without requiring any knowledge of the language to use. I also wanted to support different load scenarios so library could be smaller when needed.
 </p>
 <p>
  Sadly I ran out of time before I ended my work to my satisfaction. Still, I’d like to discuss one approach that also demonstrates aspects that I’d like to see used more in the wild.
 </p>
 <p>
  Let’s start with a demo. I created two almost identical pages. Can you spot the difference between
  <a href="http://markos.gaivo.net/examples/richswitch/index.html" title="First demo">
   first
  </a>
  and
  <a href="http://markos.gaivo.net/examples/richswitch/index2.html" title="Second demo">
   second
  </a>
  ?
 </p>
 <p>
  First one simply toggles visibility of the text, while second one does the same with a bit more style. If you look at files, you’ll notice that the only difference is that first calls
  <em>
   <a href="http://markos.gaivo.net/examples/richswitch/switch.js">
    switch.js
   </a>
  </em>
  and second uses
  <em>
   <a href="http://markos.gaivo.net/examples/richswitch/rswitch.js">
    rswitch.js
   </a>
  </em>
  . Both files look the same because they are. In fact, it’s really just one file. Hard link to the rescue for us, Unixheads.
 </p>
 <p>
  But first a small warning. This code is not production ready. I simplified it to keep example clear and concise. In that capacity I think it will do.
 </p>
 <p>
  Javascript basically consists of two functions. A
  <em>
   window.onload
  </em>
  handler that’s triggered when page is loaded and an animation function attached to button. A
  <em>
   window.onload
  </em>
  handler is a one trick pony. Its main idea is to find Javascript file in DOM and based on the name with which it was loaded set up the execution environment. This is just a fancy name (to make me look smart) for setting a global variable that is private to this name space and possibly loading a few additional resources, like YUI animation support in our case. It is also the first case where not being static helps. We can decide at run time what’s necessary and load only what we need.
 </p>
 <p>
  However, I find
  <em>
   toggleVisible
  </em>
  a tad bit more interesting and the reason is its
  <em>
   if
  </em>
  statement. What happens when we include
  <em>
   switch.js
  </em>
  in a page?
 </p>
 <p>
  Well, variable
  <em>
   rich
  </em>
  remains set to
  <em>
   false
  </em>
  and YUI components don’t get loaded. This means
  <em>
   YAHOO.util
  </em>
  and its descendants aren’t defined. Yet as we’ve seen from first demo page script works just fine. Reason for this is that
  <em>
   if
  </em>
  statement in
  <em>
   toggleVisible
  </em>
  evaluates to
  <em>
   false
  </em>
  and those undefined statements never get reached. This wouldn’t work in a language like Java, which would notice a call to undefined methods at compile time and refuse to finish compile, but it works perfectly fine in Javascript.
 </p>
 <p>
  Of course if rich was set true, then we load YUI files. It might happen with this code that we press button before they get loaded, which is one of the reasons why this isn’t a production quality code, but if we assume for a moment that they did, then those same lines in
  <em>
   toggleVisible
  </em>
  are perfectly fine and it works as hopefully seen on second page.
 </p>
 <p>
  We therefore have a page where we control its behavior and size only by the way we call javascript file. There’s literally only one letter of difference. With dynamic loading of resources and cordoning potentially nonexistent methods we could fairly easily create a spectrum of possibilities where our users could choose their own compromise between functionality and its price in terms of page size and speed or better handle differences between mobile and desktop browsers.
 </p>
</div>
        </div><!-- /.entry-content -->

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES * * */
            var disqus_shortname = 'markosgaivo';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    </article>
</section>

    <footer>
        <ul>
            <li>&copy; 2005-2016 Marko Samastur</li>
            <li><a href="/articles/feeds/rss.xml" rel="alternate" title="A notch above a monkey Full RSS Feed">Entries feed</a></li>
        </ul>
        <a href="/" class="mini-logo">Back to homepage</a>
    </footer>
</body>
</html>