<!DOCTYPE html>
<html lang="en">
<head>
        <title>A notch above a monkey</title>
        <meta charset="utf-8" />
        <link rel="shortcut icon" href="theme/img/markos.ico" />

        <link href="http://fast.fonts.com/cssapi/aee9b60b-8e94-47f8-b586-3ecbfab51d1c.css" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" type="text/css" href="theme/css/home.min.css" media="screen" title="Light theme" />
        <link rel="alternate stylesheet" type="text/css" href="theme/css/home_dark.min.css" media="screen" title="Dark theme" />

        <link href="/articles/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="A notch above a monkey Full Atom Feed" />
        <link href="/articles/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="A notch above a monkey Full RSS Feed" />
</head>

<body>


<section class="envelope posts">
    <header>
        <h1><a href="./">A notch above a monkey <strong></strong></a></h1>
    </header><!-- /#banner -->

    <nav class="colophon">
        <h1>By Marko Samastur</h1>
        <ul>
            <li><a href="/">About me</a></li>
            <li><a href="/articles/feeds/atom.xml">Subscribe</a></li>
        </ul>
    </nav>

        <article class="hentry">
            <h1 class="entry-title storytitle"><a href="./latency-bandwidth-and-speed-of-applications-part-i.html" rel="bookmark" title="Permalink to Latency, bandwidth and speed of applications - part I">Latency, bandwidth and speed of applications - part I</a></h1>

            <div class="entry-content post-text">
                <div>
 <p>
  It seems we’re back to discussing the importance of bandwidth and latency on perceived speed of application. In a way it’s amazing that after 10 years of widespread use of Internet and local networks, we developers still discuss these issues.
 </p>
 <p>
  So, what contributes to speed of execution in network applications?
 </p>
 <p>
  Each network request can be divided into seven time intervals:
 </p>
 <ol>
  <li>
   time needed to send a request
  </li>
  <li>
   latency, which is time spent for any amount of data to travel between client and server
  </li>
  <li>
   data transfer time
  </li>
  <li>
   time needed to process a request, form a response and send it
  </li>
  <li>
   latency again, but this time in other direction
  </li>
  <li>
   data transfer time for response
  </li>
  <li>
   time needed to process response and present result to user
  </li>
 </ol>
 <p>
  Sum of all these parts is time lapsed between issued command and presented result. How fast this needs to be depends on application and our experiences. For example, we expect faster response to our key presses in SSH client than we do waiting for search results.
 </p>
 <p>
  However, if this sum is under a quarter of a second, it will be generally regarded as instantaneous, but you really should aim for 1/10th of a second to satisfy even the most twitchy users.
 </p>
 <p>
  Usually, we might get to control all parts of this equation only when client and server are located on a local network and we develop both of them. So, a well behaving application needs to take in account environment in which it will run and act accordingly.
 </p>
 <p>
  This means, among other things, to give user feedback that something is happening whenever there is even a remote chance that response might take a while, to react sensibly to network disruptions (such as timeouts) and offer a way to abort user actions.
 </p>
 <p>
  So, how do we speed up the application itself?
 </p>
 <p>
  Absolutely the best way to speed up a network request is to not make one. The usual way to do this is to cache result over its life span and use it when possible.
 </p>
 <p>
  The other way, lately often mentioned in relation to AJAX, is to make our requests asynchronously. Unlike synchronous requests, which are direct results of user actions, asynchronous are those were data is transfered in expectation of future user actions.
 </p>
 <p>
  An example would be a mail program where we transfer message headers of yet unread mail in background before we actually need to display them to user, since it’s fairly likely that he’ll want to check them in near future.
 </p>
 <p>
  There are also downsides to this approach. It can be difficult to predict what to transfer next if no user action is more probable than rest. It can also incur significant costs if bandwidth is expensive as often is on GPRS networks in Europe. And when number of simultaneous connections is limited (HTTP allows 4, but not all browsers comply), it can occupy a resource when you need one.
 </p>
 <p>
  Still, it’s a useful tool when it can be applied.
 </p>
 <p>
  More about saving time with our seven intervals in part two due tomorrow.
 </p>
 <p>
  <em>
   Update: second part has been
   <a href="latency-bandwidth-and-speed-of-applications-part-ii.html" title="Second part">
    posted
   </a>
   .
  </em>
 </p>
</div>
            </div><!-- /.entry-content -->

            <footer class="post-metadata">
                <ul>
                    <li>Published on <time datetime="2005-09-14T21:10:00+02:00">Wed 14 September 2005</time> </li>
                    <li><a href="./latency-bandwidth-and-speed-of-applications-part-i.html">Add your comment</a></li>
                </ul>
            </footer>
        </article>
        <article class="hentry">
            <h1 class="entry-title storytitle"><a href="./hide-email-address-from-spammers-with-javascript.html" rel="bookmark" title="Permalink to Hide email address from spammers with Javascript">Hide email address from spammers with Javascript</a></h1>

            <div class="entry-content post-text">
                <div>
 <p>
  <strong>
   Update: I
   <a href="hide-email-address-from-spammers-with-javascript-a-new-attempt.html">
    published
   </a>
   a new, more safe but less friendly version of this script.
  </strong>
 </p>
 <p>
  Wouldn’t it be nice, if you could post your email address on your web site without worrying spammers will pick it up?
 </p>
 <p>
  Now you can, by applying a little bit of javascript to your web page. Just import
  <a href="/blog/code/mangle.js" title="Javascript file with mangle function">
   this javascript file
  </a>
  in head of your document and call
  <em>
   mangle()
  </em>
  inside your onload handler. What it does, is replace elements of form
  <br/>
  <code>
   <br/>
   &lt;span class="change"&gt;billg at microsoft dot com&lt;/span&gt;
  </code>
  <br/>
  with
  <br/>
  <code>
   <br/>
   &lt;a href="mailto:billg@microsoft.com"&gt;billg@microsoft.com&lt;/a&gt;
  </code>
 </p>
 <p>
  There are few caveats to its use. You’re not allowed to use any HTML tag inside of span blocks, which have class set to change. The script also expects such blocks to have only one class definition. If change is only part of class attribute value, this script won’t work.
 </p>
 <p>
  You are free to use script as you please and to make any changes necessary. But if you choose to replace “at” and “dot” as delimiters, pick replacements that make address easily recognizable for those who don’t use javascript.
 </p>
 <p>
  <em>
   Note: The reason why this script works is that spammers use programs which search for email like pattern in page. They don’t interpret pages using javascript interpreter, since it would make collecting addresses significantly slower and more expensive.
  </em>
 </p>
 <p>
  <em>
   Update: Jay Samec let me know there’s a bug in my code, since it didn’t handle emails with multiple dots (e.g. those with subdomains). Script has been fixed now.
  </em>
 </p>
 <p>
  <em>
   Update 2: Holger Rindermann pointed out another bug and provided a patch to fix it that is now a part of the script.
  </em>
 </p>
</div>
            </div><!-- /.entry-content -->

            <footer class="post-metadata">
                <ul>
                    <li>Published on <time datetime="2005-09-11T15:59:00+02:00">Sun 11 September 2005</time> </li>
                    <li><a href="./hide-email-address-from-spammers-with-javascript.html">Add your comment</a></li>
                </ul>
            </footer>
        </article>
        <article class="hentry">
            <h1 class="entry-title storytitle"><a href="./why-i-passionately-dislike-twisted-and-zope.html" rel="bookmark" title="Permalink to Why I passionately dislike Twisted and Zope">Why I passionately dislike Twisted and Zope</a></h1>

            <div class="entry-content post-text">
                <div>
 <p>
  I’ve been a Python programmer for more than 6 years now and during most of this time it’s been the language I used professionally. It’s safe to say, I know it fairly well and I’m quite attached to it. I also have to admit that I can’t stand Twisted and Zope.
 </p>
 <p>
  It’s a continuous wonder for me, why Python community chooses to promote projects that feel most unpythonic to me. I became addicted to Python, because it was a very simple, yet expressive language which lived up to its mantra of making easy things easy and hard things possible.
 </p>
 <p>
  So what is actually easy with Twisted and Zope? Practically nothing. At least not as long as you don’t dedicate yourself to their use.
 </p>
 <p>
  You see, Twisted and Zope are not products. They are religions.
 </p>
 <p>
  They were not built in a way that would make it easy to integrate them with wonderful things others built. It’s not easy to just pick the parts you like and use them elsewhere.
 </p>
 <p>
  No, like a good disciple you were supposed to study the way they work, use their new vocabulary and dedicate yourself to live within confines of chosen religion. If you do this, then you’ll get some payoff and you might after a while even think you enjoy it.
 </p>
 <p>
  But you’ll be missing on a hell of a lot of stuff others made and you’ll have to live with limitations of not your choosing. Well, at least not completely.
 </p>
 <p>
  I guess I wouldn’t find it so distressing, if I didn’t feel Python developers are getting too eager to add new features to please Zope and Twisted developers. Or features that were inspired by these two.
 </p>
 <p>
  So this language I loved is with each new release becoming ever less clean and beautiful and it’s getting easier and easier to imagine a day, when I’ll switch to some other language as my main development tool.
 </p>
 <p>
  <em>
   Disclaimer: When I talked about Zope, I actually meant version 2.x, because it was the one I actually used on a project and left me scared badly enough that I can’t make myself to even check X3. I heard it’s better in many regards, but I really don’t care anymore.
  </em>
 </p>
 <p>
  I also think developers who created Zope and Twisted are amazing. I just think that their product is, well, unpleasant.
 </p>
</div>
            </div><!-- /.entry-content -->

            <footer class="post-metadata">
                <ul>
                    <li>Published on <time datetime="2005-09-08T12:58:00+02:00">Thu 08 September 2005</time> </li>
                    <li><a href="./why-i-passionately-dislike-twisted-and-zope.html">Add your comment</a></li>
                </ul>
            </footer>
        </article>

<p class="paginator">
        <a href="./index105.html">&laquo;</a>
    Page 106 / 112
        <a href="./index107.html">&raquo;</a>
</p>
</section><!-- /#content -->

    <footer>
        <ul>
            <li>&copy; 2005-2015 Marko Samastur</li>
            <li><a href="/articles/feeds/rss.xml" rel="alternate" title="A notch above a monkey Full RSS Feed">Entries feed</a></li>
        </ul>
        <a href="/"><img src="/img/markos_light_small_bg.png" alt="logo" class="mini-logo" /></a>
    </footer>
</body>
</html>